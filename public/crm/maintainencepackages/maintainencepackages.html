<div class="row mt" ng-controller="maintainenceController as vm">
    <div class="col-md-12">
        <div class="content-panel">
             <div loading style="text-align: center;"><img src="../assets/img/Preloader_1.gif"/> </div>
            <table id="maintainencepack_list" class="table table-striped table-advance table-hover">
                <h4><i class="fa fa-angle-right"></i>Maintenance Packages</h4>
                <hr>
                <thead>
                    <tr>
                        <th>Package ID</th>
                        <th>Type of Property</th>
                        <th>Service</th>
                        <th>Address</th>
                        <th>Name</th>
                        <th>Email</th>
                        <th>Mobile No.</th>
                        <th>Price</th>
                        <th>Duration</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="package in vm.packages track by $index">
                        <td>{{package._id}}</td>
                        <td>{{package.property_type}}</td>
                        <td>{{package.total}}</td>
                        <td>{{package.price}}</td>
                        <td>{{package.duration}}</td>
                        <td>{{package.area}}</td>
                        <td>{{package.status}}</td>
                        <td class="ng-hide">{{package.verification_address}}</td>
                        <td class="ng-hide">{{package.order_id}}</td>
                        <td class="ng-hide">{{package.scheduled_verify}}</td>
                        <td class="ng-hide">{{package.user_id}}</td>
                        <td class="ng-hide">{{package.verification_date}}</td>
                        <td class="ng-hide">{{package.verification_time}}</td>
                        <!-- <td>{{package.}}</td> -->
                        <td><span ng-repeat="service in package.services">{{service}}&nbsp;</span></td>
                        <td><button class="btn btn-success btn-xs assign_serviceman" data-service_id="{{val.service_id}}" data-id="{{package.order_id}}"
                          data-toggle="modal" data-target="#assignmodal"><i class="fa fa-check">assign</i></button>
                          <button data-id="{{package._id}}" data-toggle="modal" data-target="#view_maintainence_package" class="btn btn-primary btn-xs view_maintainence"><i class="fa fa-eye"></i></button>
                        </td>


                    </tr>
                </tbody>
            </table>
        </div>
</div>
<div id="view_maintainence_package" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Package Information</h4>
      </div>
      <div class="modal-body">
        <div class="panel panel-info">

          <div class="panel-body">
            <div class="row">

              <div class=" col-md-12 ">
                <table class="table table-user-information">
                  <tbody>
                    <tr>
                      <td>Order id:</td>
                      <td></td>
                    </tr>
                    <tr>
                      <td>Type:</td>
                      <td></td>
                    </tr>
                    <tr>
                      <td>Customer Mobile:</td>
                      <td></td>
                    </tr>
                    <tr>
                      <td>Customer Email:</td>
                      <td></td>
                    </tr>
                    <tr>
                      <td>Service:</td>
                      <td></td>
                    </tr>
                    <tr>
                      <td>Price:</td>
                      <td></td>
                    </tr>
                    <tr>
                      <td>Remark:</td>
                      <td></td>
                    </tr>
                    <tr>
                      <td>Created On:</td>
                      <td></td>
                    </tr>
                    <tr>
                      <td>Created by:</td>
                      <td></td>
                    </tr>
                    <!-- <tr>
                      <td>Name:</td>
                      <td>{{user_info.name}}</td>
                    </tr>
                    <tr>
                      <td>Email</td>
                      <td><a href="{{$scope.user_info.email}}">{{user_info.email}}</a></td>
                    </tr>
                    <tr>
                      <td>Phone Number</td>
                      <td>{{user_info.number}}</td>
                    </tr> -->
                    <tr>
                      <td>Address:</td>
                      <td></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
$('#maintainencepack_list').on('click','.view_maintainence',function(){
  var order_id = $(this).parents('tr').children().eq(0).text();
  var service = $(this).parents('tr').children().eq(1).text();
  var address = $(this).parents('tr').children().eq(7).text();
  var services = $(this).parents('tr').children().eq(13).text();
  var price = $(this).parents('tr').children().eq(3).text();
  var email = $(this).parent().children().eq(3).text();
  var remark = $(this).parent().children().eq(4).text();
  var phone = $(this).parent().children().eq(5).text();

  var modal_table = $('#view_maintainence_package').find('table');
  modal_table.find('td').each(function(i,v){
    var modal_heading = $(this).text();
    if(modal_heading  != ""){
      if(modal_heading == "Order id:"){
        $(this).next().text(order_id);
      }
      if(modal_heading == "Type:"){
        $(this).next().text(service);
      }
      if(modal_heading == "Address:"){
        $(this).next().text(address);
      }
      if(modal_heading == "Price:"){
        $(this).next().text(price);
      }
      if(modal_heading == "Customer Email:"){
        $(this).next().text(email);
      }
      if(modal_heading == "Service:"){
        $(this).next().text(services);
      }
      if(modal_heading == "Remark:"){
        $(this).next().text(remark);
      }
      if(modal_heading == "Customer Mobile:"){
        $(this).next().text(phone);
      }
    }
  });


});

</script>
